{"version":3,"file":"index~e4317507.bundle.js","mappings":";sKAYA,QAPe,CACb,IAAKA,EAAAA,EACL,QAASA,EAAAA,EACT,cAAeC,EAAAA,EACf,QAASC,EAAAA,mCCqBX,QA7BkB,CAChBC,2BADgB,WAEd,IAAMC,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cACpCC,EAAaC,KAAKC,aAAaR,GAErC,OAAOO,KAAKE,aAAaH,EAC1B,EAEDI,8BARgB,WASd,IAAMV,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cAC1C,OAAOE,KAAKC,aAAaR,EAC1B,EAEDQ,aAbgB,SAaHR,GACX,IAAMW,EAAaX,EAAIY,MAAM,KAC7B,MAAO,CACLC,SAAUF,EAAW,IAAM,KAC3BG,GAAIH,EAAW,IAAM,KACrBI,KAAMJ,EAAW,IAAM,KAE1B,EAEDF,aAtBgB,SAsBHH,GACX,OAAQA,EAAWO,SAAX,WAA0BP,EAAWO,UAAa,MACnDP,EAAWQ,GAAK,OAAS,KACzBR,EAAWS,KAAX,WAAsBT,EAAWS,MAAS,GAClD,mCCFH,QAvBwB,CACtBC,KADsB,YACY,WAA3BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QACrBF,EAAOG,iBAAiB,SAAS,SAACC,GAChCA,EAAMC,iBACN,EAAKC,cAAcF,EAAOH,EAC3B,IAEDC,EAAQC,iBAAiB,SAAS,SAACC,GACjC,EAAKG,aAAaH,EAAOH,EAC1B,GACF,EAEDK,cAZsB,SAYRF,EAAOH,GACnBG,EAAMI,kBACNP,EAAOQ,UAAUC,OAAO,OACzB,EAEDH,aAjBsB,SAiBTH,EAAOH,GAClBG,EAAMI,kBACNP,EAAOQ,UAAUE,OAAO,OACzB,mSCrBH,smNAmDA,QA7CuB,CACfZ,KADe,YACqC,6HAA7Ca,EAA6C,EAA7CA,gBAAiBC,EAA4B,EAA5BA,cAAeC,EAAa,EAAbA,WAC3C,EAAKC,iBAAmBH,EACxB,EAAKI,eAAiBH,EACtB,EAAKI,YAAcH,EAHqC,SAKlD,EAAKI,gBAL6C,4CAMzD,EAEKA,cATe,WASA,yHACXrB,EAAO,EAAKoB,YAAZpB,GADW,SAET,EAAKsB,cAActB,GAFV,kCAGjB,EAAKuB,eAHY,sBAKjB,EAAKC,cALY,4CAOpB,EAEKF,cAlBe,SAkBDtB,GAAI,kIACG,EAAKmB,eAAeM,SAASzB,GADhC,cAChBiB,EADgB,2BAEbA,GAFa,4CAGvB,EAEDO,YAvBqB,WAuBP,WACZ/B,KAAKyB,iBAAiBQ,WAAYC,EAAAA,EAAAA,KAEfC,SAASC,cAAc,eAC/BvB,iBAAiB,QAA5B,YAAqC,8FAC7B,EAAKa,eAAeW,SAAS,EAAKV,aADL,OAEnC,EAAKC,gBAF8B,2CAItC,EAEDE,aAjCqB,WAiCN,WACb9B,KAAKyB,iBAAiBQ,WAAYK,EAAAA,EAAAA,KAEfH,SAASC,cAAc,eAC/BvB,iBAAiB,QAA5B,YAAqC,8FAC7B,EAAKa,eAAea,YAAY,EAAKZ,YAAYpB,IADpB,OAGnC,EAAKqB,gBAH8B,2CAKtC,mSChDH,m6MAgBA,QAbgB,gCAAG,uFACX,kBAAmBY,UADR,wDAKXC,EAAK,IAAIC,EAAAA,GAAsB,iBALpB,kBAOTD,EAAGE,WAPM,6TAAH","sources":["webpack://apps-restauran-pwa/./src/scripts/routes/routes.js","webpack://apps-restauran-pwa/./src/scripts/routes/url-parser.js","webpack://apps-restauran-pwa/./src/scripts/utils/drawer-initiator.js","webpack://apps-restauran-pwa/./src/scripts/utils/like-button-initiator.js","webpack://apps-restauran-pwa/./src/scripts/utils/sw-register.js"],"sourcesContent":["/* eslint-disable import/no-unresolved */\nimport HomeRestaurant from '../views/pages/home';\nimport DetailRestaurant from '../views/pages/detail';\nimport Like from '../views/pages/like';\n\nconst routes = {\n  '/': HomeRestaurant,\n  '/home': HomeRestaurant,\n  '/detail/:id': DetailRestaurant,\n  '/like': Like,\n};\n\nexport default routes;\n","/* eslint-disable no-underscore-dangle */\nconst UrlParser = {\n  parseActiveUrlWithCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    const splitedUrl = this._urlSplitter(url);\n    // eslint-disable-next-line no-underscore-dangle\n    return this._urlCombiner(splitedUrl);\n  },\n\n  parseActiveUrlWithoutCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    return this._urlSplitter(url);\n  },\n\n  _urlSplitter(url) {\n    const urlsSplits = url.split('/');\n    return {\n      resource: urlsSplits[1] || null,\n      id: urlsSplits[2] || null,\n      verb: urlsSplits[3] || null,\n    };\n  },\n\n  _urlCombiner(splitedUrl) {\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\n        + (splitedUrl.id ? '/:id' : '')\n        + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\n  },\n};\n\nexport default UrlParser;\n","/* eslint-disable no-trailing-spaces */\n/* eslint-disable no-underscore-dangle */\nconst DrawerInitiator = {\n  init({ button, drawer, content }) {\n    button.addEventListener('click', (event) => {\n      event.preventDefault();\n      this._toggleDrawer(event, drawer);\n    });\n\n    content.addEventListener('click', (event) => {\n      this._closeDrawer(event, drawer);\n    });\n  },\n\n  _toggleDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.toggle('open');\n  },\n   \n  _closeDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.remove('open');\n  },\n};\n\nexport default DrawerInitiator;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable space-before-blocks */\n// /* eslint-disable no-unused-vars */\n// import FavoriteResto from '../data/favorite-resto-idb';\nimport { templateButtonLike, templateButtonLiked } from '../views/templates/template-button-like';\n\nconst likeButtonInit = {\n  async init({ buttonContainer, favoriteResto, restaurant }){\n    this._buttonContainer = buttonContainer;\n    this._favoriteResto = favoriteResto;\n    this._restaurant = restaurant;\n\n    await this._renderButton();\n  },\n\n  async _renderButton(){\n    const { id } = this._restaurant;\n    if (await this._isRestoExist(id)){\n      this._renderLiked();\n    } else {\n      this._renderLike();\n    }\n  },\n\n  async _isRestoExist(id) {\n    const restaurant = await this._favoriteResto.getResto(id);\n    return !!restaurant;\n  },\n\n  _renderLike() {\n    this._buttonContainer.innerHTML = templateButtonLike();\n\n    const likeButton = document.querySelector('#likeButton');\n    likeButton.addEventListener('click', async () => {\n      await this._favoriteResto.putResto(this._restaurant);\n      this._renderButton();\n    });\n  },\n\n  _renderLiked() {\n    this._buttonContainer.innerHTML = templateButtonLiked();\n\n    const likeButton = document.querySelector('#likeButton');\n    likeButton.addEventListener('click', async () => {\n      await this._favoriteResto.deleteResto(this._restaurant.id);\n      // eslint-disable-next-line no-underscore-dangle\n      this._renderButton();\n    });\n  },\n};\n\nexport default likeButtonInit;\n","/* eslint-disable consistent-return */\n/* eslint-disable no-console */\nimport * as WorkboxWindow from 'workbox-window';\n\nconst swRegister = async () => {\n  if (!('serviceWorker' in navigator)) {\n    return;\n  }\n\n  const wb = new WorkboxWindow.Workbox('/sw.bundle.js');\n  try {\n    await wb.register();\n  } catch (error) {\n    return error;\n  }\n};\n\nexport default swRegister;\n"],"names":["HomeRestaurant","DetailRestaurant","Like","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","init","button","drawer","content","addEventListener","event","preventDefault","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","buttonContainer","favoriteResto","restaurant","_buttonContainer","_favoriteResto","_restaurant","_renderButton","_isRestoExist","_renderLiked","_renderLike","getResto","innerHTML","templateButtonLike","document","querySelector","putResto","templateButtonLiked","deleteResto","navigator","wb","WorkboxWindow","register"],"sourceRoot":""}